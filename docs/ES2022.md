---
title: ES2022
---

If your tsconfig.json targets `ES2022` or newer there are some changes you will need to make to your commands to ensure that flags are properly set. See [this comment](https://github.com/oclif/oclif/issues/1100#issuecomment-1454910926) on github for more context on why these changes are necessary.

## Use static initialization blocks

All static properties on `Command` classes need to be set inside of a [static initialization block](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Static_initialization_blocks).

For instance your command may look something like this:

```typescript
import {Command, Flags} from '@oclif/core'

export default class Hello extends Command {
  static summary = 'Say hello!'
  static aliases = ['howdy']
  static enableJsonFlag = true
  static flags = {
    name: Flags.string({
      summary: 'person to say hello to',
      required: true,
      char: 'n',
    })
  }

  public async run(): Promise<{name: string}> {
    const {flags} = await this.parse(Hello)
    this.log(`hello ${flags.name}`)
    return {
      name: flags.name
    }
  }
}
```

To target ES2022 you'll need to update the command to look like this:

```typescript
import {Command, Flags} from '@oclif/core'

export default class Hello extends Command {
  static summary
  static aliases
  static enableJsonFlag
  // It's very important to declare the static flags prop here.
  // Otherwise, you'll loose all type safety on flags.
  static flags

  static {
    this.summary = 'Say hello!'
    this.aliases = ['howdy']
    this.enableJsonFlag = true
    this.flags = {
      name: Flags.string({
        summary: 'person to say hello to',
        required: true,
        char: 'n',
      }),
    }
  }

  public async run(): Promise<{name: string}> {
    const {flags} = await this.parse(Hello)
    this.log(`hello ${flags.name}`)
    return {
      name: flags.name
    }
  }
}

```
